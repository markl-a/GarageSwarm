# ============================================================================
# Multi-Agent System - Backend Configuration
# ============================================================================
# Copy this file to .env and update the values for your environment
# Never commit the .env file with real secrets to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection URL (async driver)
# Format: postgresql+asyncpg://username:password@host:port/database
# Development default uses local PostgreSQL instance
DATABASE_URL=postgresql+asyncpg://postgres:postgres_dev_password@localhost:5432/multi_agent_db

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
# Redis connection URL for caching and pub/sub
# Format: redis://host:port/database_number
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# JWT Secret Key - REQUIRED in production/staging
# Generate a secure key with:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
# Must be at least 32 characters for security
SECRET_KEY=your-secure-secret-key-at-least-32-chars

# JWT Algorithm (HS256 is recommended for most use cases)
ALGORITHM=HS256

# JWT Token Expiration Settings
# Access token lifetime in minutes (default: 15 minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=15
# Refresh token lifetime in days (default: 7 days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
# Enable debug mode (set to false in production!)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ----------------------------------------------------------------------------
# Allowed origins for CORS (comma-separated list)
# Add your frontend URLs here
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5173

# ----------------------------------------------------------------------------
# File Storage
# ----------------------------------------------------------------------------
# Directory for storing task-related files
FILE_STORAGE_PATH=/data/tasks

# ----------------------------------------------------------------------------
# AI Tool API Keys (Optional)
# ----------------------------------------------------------------------------
# These are optional if backend needs to use AI tools directly
# Usually worker agents use these, not the backend
ANTHROPIC_API_KEY=your-anthropic-api-key
GOOGLE_API_KEY=your-google-api-key

# ----------------------------------------------------------------------------
# Checkpoint Auto-Trigger Configuration
# ----------------------------------------------------------------------------
# Minimum evaluation score to trigger checkpoint (0.0 - 10.0)
EVALUATION_SCORE_THRESHOLD=7.0

# Number of subtasks completed before periodic checkpoint
CHECKPOINT_SUBTASK_INTERVAL=5

# Maximum correction cycles before escalation
CHECKPOINT_MAX_CORRECTION_CYCLES=3

# Timeout in hours before triggering timeout checkpoint
CHECKPOINT_TIMEOUT_HOURS=24

# Enable/disable different checkpoint triggers
CHECKPOINT_ENABLE_ERROR_TRIGGER=true
CHECKPOINT_ENABLE_EVALUATION_TRIGGER=true
CHECKPOINT_ENABLE_PERIODIC_TRIGGER=true
CHECKPOINT_ENABLE_TIMEOUT_TRIGGER=true

# ----------------------------------------------------------------------------
# Performance & Monitoring (Optional)
# ----------------------------------------------------------------------------
# Prometheus metrics endpoint enabled
ENABLE_METRICS=true

# Database connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=10
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ----------------------------------------------------------------------------
# WebSocket Configuration
# ----------------------------------------------------------------------------
# WebSocket ping interval in seconds
WS_PING_INTERVAL=30
# WebSocket ping timeout in seconds
WS_PING_TIMEOUT=10
