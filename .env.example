# ============================================================================
# Multi-Agent on the Web - Environment Configuration
# ============================================================================
# Copy this file to .env and update the values for your environment
# Never commit the .env file with real secrets to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection URL (async driver)
# For Docker: postgresql+asyncpg://postgres:postgres@postgres:5432/multi_agent_db
# For Local: postgresql+asyncpg://postgres:postgres_dev_password@localhost:5432/multi_agent_db
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/multi_agent_db

# PostgreSQL credentials for docker-compose
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=multi_agent_db

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
# Redis connection URL for caching and pub/sub
# For Docker: redis://redis:6379/0
# For Local: redis://localhost:6379/0
REDIS_URL=redis://redis:6379/0

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# JWT Secret Key - REQUIRED in production/staging
# Generate a secure key with:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
# Must be at least 32 characters for security
SECRET_KEY=your-secure-secret-key-at-least-32-chars-change-in-production

# JWT Algorithm (HS256 is recommended for most use cases)
ALGORITHM=HS256

# JWT Token Expiration Settings
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
# Enable debug mode (set to false in production!)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Environment (development, staging, production)
ENVIRONMENT=development

# ----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ----------------------------------------------------------------------------
# Allowed origins for CORS (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5173

# ----------------------------------------------------------------------------
# AI Tool API Keys
# ----------------------------------------------------------------------------
# Anthropic Claude API Key (for Worker Agent)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Google API Key (for Gemini)
GOOGLE_API_KEY=your-google-api-key-here

# Optional: Ollama (if using local LLM)
OLLAMA_BASE_URL=http://localhost:11434

# ----------------------------------------------------------------------------
# Worker Agent Configuration
# ----------------------------------------------------------------------------
# Backend API URL for worker agents to connect
BACKEND_URL=http://localhost:8000

# Worker Agent machine name
WORKER_MACHINE_NAME=worker-1

# Heartbeat interval in seconds
WORKER_HEARTBEAT_INTERVAL=30

# Enable WebSocket for real-time task push
WORKER_USE_WEBSOCKET=true

# Fallback polling interval in seconds (when WebSocket unavailable)
WORKER_POLLING_INTERVAL=10

# Graceful shutdown timeout in seconds
WORKER_SHUTDOWN_TIMEOUT=60

# ----------------------------------------------------------------------------
# Checkpoint Auto-Trigger Configuration
# ----------------------------------------------------------------------------
EVALUATION_SCORE_THRESHOLD=7.0
CHECKPOINT_SUBTASK_INTERVAL=5
CHECKPOINT_MAX_CORRECTION_CYCLES=3
CHECKPOINT_TIMEOUT_HOURS=24
CHECKPOINT_ENABLE_ERROR_TRIGGER=true
CHECKPOINT_ENABLE_EVALUATION_TRIGGER=true
CHECKPOINT_ENABLE_PERIODIC_TRIGGER=true
CHECKPOINT_ENABLE_TIMEOUT_TRIGGER=true

# ----------------------------------------------------------------------------
# Performance & Monitoring
# ----------------------------------------------------------------------------
ENABLE_METRICS=true
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
REDIS_MAX_CONNECTIONS=10

# ----------------------------------------------------------------------------
# WebSocket Configuration
# ----------------------------------------------------------------------------
WS_PING_INTERVAL=30
WS_PING_TIMEOUT=10
